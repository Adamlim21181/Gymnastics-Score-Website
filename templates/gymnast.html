{% extends 'layout.html' %}

{% block content %}
<div class="content">

    <div class="forms">

        <h3>Register Gymnast</h3>

        <form id="registor">

            <p> Name: <input type="text" name="registorname" placeholder="Enter Gymnast Name" minlength="1"
                    maxlength="50" pattern=".*\S.*" title="This field cannot be just whitespace" required></p>
            <p> Level: <select name="registorlevel" required></p>

            <option value="" disabled selected hidden>Select Level</option>
            <option value="1">Level 1</option>
            <option value="2">Level 2</option>
            <option value="3">Level 3</option>
            <option value="4">Level 4</option>
            <option value="5">Level 5</option>
            <option value="6">Level 6</option>
            <option value="7">Level 7</option>
            <option value="8">Level 8</option>
            <option value="9">Level 9</option>
            </select>
            <input type="submit" />

        </form>

    </div> <!-- registor gymnast form -->

    <div class="tables">

        <table>

            <tr>
                <th id="tableheader" colspan="4">Registered Gymnasts</th>
            </tr>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Level</th>
                <th>Delete</th>
            </tr>
            <!-- Loop through 'result' to fill table rows -->
            {% for row in result %}
            <tr>

                {% for i in row %}
                <td>{{ i }}</td>
                {% endfor %}
                <td>
                    <form action="/addgymnast">
                        <input type="hidden" name="deleteid" value="{{ row[0] }}">
                        <button class="deletebutton" type="submit"
                            onclick="return confirm('Are you sure you want to delete this gymnast?')">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}

        </table>

    </div><!-- Registered gymnasts table -->

    <div class="forms">

        <h3>Edit Registered Gymnasts</h3>

        <form id="editgymnast">

            <p> ID: <input type="number" name="id" placeholder="Enter Gymnast ID (Found in table above)" max="100000"
                    required></p>
            <p> Name: <input type="text" name="newname" placeholder="Enter Gymnast Name" maxlength="50" pattern=".*\S.*"
                    title="This field cannot be just whitespace" required></p>
            <p> Level: <select name="newlevel" required></p>


            <option value="" disabled hidden selected>Select Level</option>
            <option value="1">Level 1</option>
            <option value="2">Level 2</option>
            <option value="3">Level 3</option>
            <option value="4">Level 4</option>
            <option value="5">Level 5</option>
            <option value="6">Level 6</option>
            <option value="7">Level 7</option>
            <option value="8">Level 8</option>
            <option value="9">Level 9</option>
            </select>
            <input type="submit">

        </form>

        {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
        {% endif %}

    </div> <!-- Edit gymnast form -->

</div><!-- content -->

{% endblock %}